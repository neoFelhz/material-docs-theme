var searchFunc=function(t,e,s){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var i=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),n=document.getElementById(e),a=document.getElementById(s);n.addEventListener("input",function(){var t='<ul class="search-result-list">',e=this.value.trim().toLowerCase().split(/[\s\-]+/);a.innerHTML="",this.value.trim().length<=0||(i.forEach(function(s){var i=!0,a=s.title.trim().toLowerCase(),o=s.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),r=s.url,l=-1,h=-1,d=-1;if(""!=a&&""!=o&&e.forEach(function(t,e){l=a.indexOf(t),h=o.indexOf(t),0>l&&0>h?i=!1:(0>h&&(h=0),0==e&&(d=h))}),i){t+="<li><a href='"+r+"'class='search-result-title'target='_blank'>"+a;var c=s.content.trim().replace(/<[^>]+>/g,"");if(d>=0){var p=d-6,u=d+6;0>p&&(p=0),0==p&&(u=10),u>c.length&&(u=c.length);var _=c.substr(p,u);e.forEach(function(t){var e=new RegExp(t,"gi");_=_.replace(e,'<em class="search-keyword">'+t+"</em>")}),t+='<p class="search-result">'+_+"...</p></a>"}}}),a.innerHTML=t)})}})},path="/search.xml";searchFunc(path,"search-field","search-result");